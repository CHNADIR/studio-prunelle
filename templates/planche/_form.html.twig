{% import 'form/form_macros.html.twig' as form_macros %}

{{ form_macros.form_start(form) }}

{% set general_content %}
    {{ form_row(form.nom) }}
    {{ form_row(form.categorie) }}
    {{ form_row(form.descriptionContenu) }}
    {{ form_row(form.prix) }}
{% endset %}
{{ form_macros.form_card('Informations générales', general_content) }}

{% set image_content %}
    {{ form_row(form.imageFile) }}
    
    {% if planche is defined and planche.imageFilename %}
        <div class="mt-3">
            <p class="mb-2">Image actuelle :</p>
            <img src="{{ asset('uploads/planches/' ~ planche.imageFilename) }}" 
                 alt="{{ planche.nom }}" 
                 class="img-thumbnail" 
                 style="max-width: 200px;">
        </div>
    {% endif %}
{% endset %}
{{ form_macros.form_card('Image', image_content) }}

{{ form_macros.buttons(button_label|default('Enregistrer'), 'save', 'app_planche_index') }}

{{ form_macros.form_end(form) }}
